### 테이블(Table)

- **사전 구조 또는 맵(map)이라고 불리기도 한다.**
- C++ STL map, unordered_map(Hash Table) / C# Dictionary
- 많은 자료를 저장하고 있어도 검색이 빠르다.
  - 탐색 연산의 시간 복잡도는 O(1)
- 저장되는 데이터는 키(key)와 값(Value)이 하나의 쌍을 이룬다.
  - ex) 사전에서 단어는 키(key)가 되고 단어의 설명은 값(Value)이 된다.
- 테이블은 항목들을 키에 의하여 식별하고 관리한다
- 키(key)가 존재하지 않는 값(Value)은 저장할 수 없다. 그리고 모든 키는 중복되지 않는다.

### 배열 기반 테이블

- 배열으로 이루어져 있을 때 배열의 인덱스를 key값으로 온전히 사용할 수 없다.
  - 배열의 길이는 한정되어 있는데 key값이 그 범위를 넘어가는 경우 key값을 인위적으로 바꿔야 한다.
- 원하는 key 값의 범위를 담을 수 있는 사용하지 않는 크기가 남아 도는 배열을 선언해야만 한다.
  - 공간 활용이 좋다고 말할 수 없다.
  - 저정한 자료가 적을 때는 메모리 낭비와 검색 시 오버헤드가 생긴다.
- 계산복잡도 O(1)

### 이진 탐색 트리 기반 테이블

- 메모리를 효율적으로 사용하는 편이다.
- 데이터 탐색에 소요되는 계산복잡도은 O(log n)

## 해시 테이블(Hash Table)

 데이터가 해쉬 함수에 의해 분류 된 후 키에 값을 저장한다. 해시 테이블은 키(Key,index), 해시 함수(Hash Function), 해시(Hash), 값(Value), 저장소(Bucket, Slot)로 이루어져 있다.

- 버킷(Bucket) : 하나의 주소를 갖는 파일의 한 구역을 의미하며, 버킷의 크기는 같은 주소에 포함될 수 있는 레코드 수를 의미한다.
- 슬롯(Slot) : 한 개의 레코드를 저장할 수 있는 공간으로 n개의 슬롯이 모여 하나의 버킷을 형성한다.

### 해시(Hash) 

해시는 해시 함수의 결과물이며, 저장소에 값과 매칭되어 저장된다.

### 해싱(Hashing)

데이터들이 해시함수에 의해 분류 되고 분류 된 데이터는 헤시 테이블 안에 들어가게 된다. 이 과정을 해싱이라고 한다. 

### 해시 함수(Hash Function)

데이터의 효율적 관리를 목적으로 제한사항의 조건을 만족하기 위해 키로 활용할 수 있는 것을 특정하여 범위를 좁혀서 사용하게 유도하는 연산이 들어가 있는 함수이다. 즉 다양한 길이를 가지고 있는 키를 일정한 길이를 가지는 해시로 변경해주는 것이다. 해시 함수는 각각의 키를 고유한(unique) 버킷에 할당하지만  동일한 키의 값이 들어가야 하는 충돌(collision) 상황이 발생할 수 있다. 이때 매핑 전 원래 데이터의 값을 키라고 하며 후의 데이터 값을 해시 값이라고 한다.

- 나눗셈 - 나머지 방식(제산법)
  - 테이블 내에 들어갈 항목의 개수를 추정하고 그 숫자는 키에서 몫과 나머지를 추출해 내기 위해 각각을 나누는 제수로 사용 된다. 이때 계산의 나머지가 해시 값이 된다.
- 접기(폴딩법)
  - 원래의 값을 여러 부분으로 나누어, 그 부분들을 함꼐 더하고 나서, 마지막 네 자리를 해시 값이나 키로 삼는 것.
- 기수(Radix)변환
  - 값이나 키가 디지털이라면 다른 순서의 숫자열을 만들도록 기수를 변경할 수 있다. 즉, 10진수의 키를 16진수의 키로 변경할 수 있는 것.
    - 변경 후, 해시 값의 길이를 일정하게 유지 하기 위해 상위 자리 수는 일부는 버려질 수 있다.
- 제곱법
  - 키 값을 제곱한 후 그 중간 부분의 값을 해시 값으로 사용한다.
- 자리수 재배열
  - 원래 값이나 키의 일부를 취하여 그 순서를 역으로 한 다음, 그 것을 해시 값이나 키로 사용하는 것



### 해시충돌 (Hash collision)

해시 충돌이란 해시 함수가 서로 다른 두 개의 입력값에 대해 동일한 해시 값을 내는 상황이다.

#### 해시 충돌 해결하기

1. 개방 해싱(Open Hashing) : 주소 밖에 새로운 공간을 할당하여 문제 해결(빈 버킷을 찾는다.)
   1. 체이닝(Chaining)
2. 폐쇄 해싱 (Closed Hashing) : 처음 주어진 해시 테이블의 공간 안에서 문제 해결(다른 주소 접근을 X)
   1. 체이닝(Chaining)
   2. 개방 주소법(Open Addressing)
      1. 선형 조사법(Linear Probing)
      2. 제곱 탐사/이차 조사법(Quadratic Probing)
      3. 이중 해싱(Double Hashing)
      4. 재해싱(Rehasing)

##### 체이닝(Chaining)

- 개방 해싱인 동시에 폐쇠 해싱이다.
- 연결 리스트를 이용해서 해당 키와 중복된 데이터들은 키를 헤더로 연결 시켜 놓는 방법이다.
  - 새 데이터를 연결 리스트 가장 앞에 삽입한다.
  - 연결 리스트의 단점을 가진다.

##### 선형 조사법(Linear Probing)

- 들어갈 데이터의 옆 공간이 비었는지 확인하고, 비었을 경우 그 자리에 대신 저장하는 방법이다.
- 충돌 횟수가 증가함에 따라서 특정지역에 데이터가 몰리는 클러스터(Cluster) 현상이 발생하기에 좋지 않은 해시 방법이다.
- `f(k) + 1 ... f(k) +2...f(k) + 3...f(k) + 4....`

##### 이차 조사법(Quadratic Probing)

- 선형 조사법 보다 조금 더 간격을 두고 저장한다.
- 해시 값이 충돌하면 충돌 발생시 빈 슬롯을 찾기 위해서 접근하는 위치가 일정하다.
- `f(k) + 1² ... f(k) +2²...f(k) + 3²...f(k) + 4²....`

##### 이중 해싱(Doublue Hashing)

- 헤시 조건을 불규칙하게 만들기 위해 두개의 해시 함수를 이용하여 빈 공간을 찾는 방법이다.
- 하나는 최초의 주소를 얻을 때 또 다른 하나는 충돌이 일어 있을때 사용
- 키가 다르면 건너 뛰는 길이도 달라지기 때문에 클러스터(Cluster)  현상의 발생 확률을 현저히 낮출 수 있기에 이상적인 해결책 중 하나이다.

##### 재해싱(Rehasing)

- 해시 테이블의 크기를 늘리고 , 늘어난 해시 테이블의 크기에 맞추어 테이블 내의 모든 데이터를 다시 해싱하는 방법이다.



> 참조 사이트
>
> PPT CHAPTER.6
>
> https://mattlee.tistory.com/62
>
> http://www.terms.co.kr/hashing.htm
>
> [https://ratsgo.github.io/data%20structure&algorithm/2017/10/25/hash/](https://ratsgo.github.io/data structure&algorithm/2017/10/25/hash/)
>
> [cyranocoding.log](https://velog.io/@cyranocoding/Hash-Hashing-Hash-Table해시-해싱-해시테이블-자료구조의-이해-6ijyonph6o)
>
> https://luyin.tistory.com/191
>
> [느리게 생각하기 Naver Blog](http://blog.naver.com/PostView.nhn?blogId=deepb1ue&logNo=221218479008&proxyReferer=https%3A%2F%2Fwww.google.com%2F)