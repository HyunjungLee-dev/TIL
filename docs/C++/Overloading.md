# 오버로딩(Overloading)

- C언어에서는 함수 호출 시 함수의 이름만으로 호출될 함수를 구분한다.
- 함수의 이름이 같아도 매개변수의 자료형 종류, 개수가 다르면 다른 함수이다.
- 함수의 이름을 동일하게 한 후 매개변수의 종류나 개수를 다르게 하여 인자 호출 방식에 따라 호출될 대상함수를 정하는 방법

## 연산자 오버로딩(Operator Overloading)

-  C++가 가진 다형(polymorphism) 특성의 한 예이다.
- 오버로딩의 개념을 연산자에까지 확장하여, C++ 연산자들에 다중적인 의미를 부여하는 것이다.

연산자 오버로딩이란 객체를 대상으로 직접 연산할 수 있도록 기존에 제공하고 있는 연산자를 재정의 하여 사용자 정의 클래스로 사용하는 것을 말한다. 이때 사용자 정의 클래스는 기본적으로 컴파일 내부 연산이 정의 되어 있지 않다. 

연산자를 오버로딩하려면 연산자 함수(operator function)라는 특별한 함수를 사용해야 한다. 연산자 함수의 형식은 다음과 같다.

`operator(argument-list)`

여기에서 op는 오버로딩할 연산자를 나타내는 기호이다. 예를들면 operator+()는 + 연산자를 오버로딩한다.

### 연산자 오버로드에 대한 규칙

- 연산자 기호를 새로 만들 수 없다.  (ex. **)
- 오버로딩된 연산자를, 오리지널 연산자에 적용되는 문법 규칙을위반하는방식으로 사용할 수 없다. 기존 연산자의 의미를 유지해야 한다.
- 연산자의 우선순위 변경이 불가능하다.
- 오버로드 된 연산자는 비정적(non-static) 클래스 멤버 함수거나 전역 함수이어야 한다. (priavte 또는 protected 접근자의 전역 함수는 해당 클래스의 friend로 선언해야한다. )
- 오버로딩된 연산자는, 적어도 하나의 피연산자가 사용자 정의 데이터형일 것을 요구한다.
  - 표준 데이터형을 위하여 사용되는 연산자들을 오버로딩하는 것을 막아 준다.
- 디폴트 매개변수를 가질 수 없다.
- 단항 연산자 또는 이항 연산자로 오버로드 가능하며 각 사용을 별도로 오버로드 할 수 있다.
- 사용자 정의 클래스에서 연산을 실행하면 operator연산자() 형식의 함수를 호출하기 때문에 멤버 함수로 선언되어 있지 않으면 에러가 발생한다.
- 사용자 정의 클래스에서 연산을 실행 했을 때 취해야 할 행동을 미리 정해두는 함수가 필요하다.

### 오버로딩이 불가능한 연산자

|      연산자      |          설명           |
| :--------------: | :---------------------: |
|      sizeof      |      sizeof 연산자      |
|        .         |       멤버 연산자       |
|        .*        | 멤버 지시 포인터 연산자 |
|        ::        |  사용 범위 결졍 연산자  |
|        #         |  문자열 전처리기 변환   |
|        ##        |      전처리기 연결      |
|      typeid      |       RTTI 연산자       |
|    const_cast    |  데이터형 변환 연산자   |
|   dynamic_cast   |  데이터형 변환 연산자   |
| reinterpret_cast |  데이터형 변환 연산자   |
|   static_cast    |   데이터형 변환 연산    |

### 멤버 함수만 사용 가능한 연산자

| 연산자 |              설명              |
| :----: | :----------------------------: |
|   =    |          대입 연산자           |
|   ()   |        함수 호출 연산자        |
|   []   |       배열 인덱스 연산자       |
|   ->   | 클래스 멤버 접근 포인터 연산자 |



#### 단항 연산자 오버로딩

오버로딩이 가능한 단항 연산자는 !, &, ~, *, +, -, ++, --형 변환 연산자이다. 여기서 +, - 는 부호연산자이고 ++,-- 연산자의 경우 전위,후위 연산자가 있다.

#### 이항 연산자 오버로딩

오버로딩 가능한 이항 연산자로는 +, -, *, /, ==, <, <= 등이 있으며 여기서 +는 덧셈, -는 뺄셈을 말한다.

- 멤버 함수를 이용한 오버로딩, 전역함수를 이용한 오버로딩 두가지가 있다.
- 멤버 함수를 이용할 수 없는 경우 전역 함수를 이용한 오버로딩을 한다.
  - 전역함수의 인자로 전달되어 연산이 이루어진다.
  - Getter를 이용하거나 friend 함수를 이용하여 전달한다.

#### 함수 호출 연산자 오버로딩

() 연산자

#### 배열 인덱스 연산자 오버로딩

[] 연산자

#### 메모리 접근, 클래스 멤버 접근 연산자 오버로딩

- *, -> 연산자는 스마트 포인터나 반복자 등의 특수한 객체에 사용된다.

#### 타입변환 연산자 오버로딩

사용자 정의로 사용할 수 있는 타입변환 방법

- 생성자를 이용한 타입 변환
- 타입 변환 연산자 오버로딩을 이용한 타입 변환

##### 생성자를 이용한 타입 변환

- 암시적으로 형변환이 이루어진다.
- int형 인자를 받는 변환 생성자가 char형이나 float을 받았을 때 Error는 발생하지 않지만 결과는 버그다.
- explicit 키워드를 지정해서 명시적인 변환이 이루어지게 만들자.





> Reference
>
> - C++ PPT 4 / 10 
> - STL PPT 프롤로그
> - [열코의 프로그래밍 일기](https://yeolco.tistory.com/119)
> - C++ 기초 플러스 6판

